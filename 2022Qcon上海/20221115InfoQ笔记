

infoQ

15年
2007-2010翻译
2013-2019云 devops
ai alphygo
源宇宙

web3.0的未来

企业开源 更加完整
软件正在改变世界
软件正在重新定义世界

演讲素材来源 公众号


2021-2022 pssa层 云原生
serverless变化

服务api化 不用运维和扩缩容
自适应弹性：从容应对流量高峰
开箱即用
按流量付费：存储 、kps 
非常多产品的serverless化

一张大图 再分开讲
cncf


开源生态极大丰富，带来巨大学习成本

https://blog.csdn.net/weixin_34311757/article/details/91829809


myspace
https://www.hitzhangjie.pro/blog/


分布式及架构设计理论
https://blog.51cto.com/u_14153136/3025002

灰色程序 
https://blog.51cto.com/u_14153136


云原生问题
外部质疑 腾讯自己不用
技术栈不统一
充足buff浪费
技术人员焦虑
2018研发环境

上云的范围
1.上到虚拟机不算上云
2.运行好不代表技术最优


云原生发展历程与技术体系
https://cloud.tencent.com/developer/article/1920795

重磅！腾讯云首次披露自研业务上云历程
https://blog.csdn.net/NicolasLearner/article/details/117585654

三年全面上云，腾讯自研业务超千万核资源的容器管理实践
https://www.sohu.com/a/616649491_355140


目标3年 虚拟机-》容器-〉pass

容器探测和锁 控制影响性
qq上云 复杂

cmdb 权限管理 服务注册发现 配置管理系统
ci/cb

opencloudos 云原生操作系统
高负载节点，增强调度能力

pod1v1部署在一个轻量虚拟化环境中

规范 sdk管理后台
sdk-core
xr-sdk


基础设施sre
k8s nginx 容器化

故障案例
1.集群调度 pod
2.监控

故障驱动

1-5-10 1分钟发现 5分钟定位 10分钟恢复


一键切换

dubble服务本地优先，那夸中心的调用 如何保持数据的一致性
现有流量中心确认如何请求持续在本中心，如果发生跨中心访问 那如何保证数据一致性

灰度隔离 数据层面如何处理的 不超过5%


安全：木桶理论 水位

ocr nlp
pingpoint 指针分析能力 构建方法调用图和依赖图
构建数据流分析和污点分析
olap oltp
数据流 调用流



优化：渐近计算


隐私计算
大数据一体化
web3.0业态的发展-》去中心化

hbo
模型 策略 算法

高roi
toc-tob


目标和手段
有效规则 有效的数据采集
雅虎军规

站在巨人肩膀上 不一定看得远 但站得高
找开源分析的要点 作为标准
调试背后的逻辑
分析工具：pprof

一段时间的数据 作为分析问题定位
roi
责任归属算法


群控
混沌工程
高准确 可解释
手机号和留言的关系
回扫 保证数据正常
 
KDD21 样本降噪
NIPS20

api治理的方法和关键落地措施
华为2016年数字化转型
基础技术核心能力api 发出来 作战系统 多业态发展
2019年列入实体清单 关键it系统 全方位自验替代
erp cim

api业务定义不清晰 面向用户关键场景和价值
api没有使用，抽象不足
规范不统一 url 输入参数 应答码定义 命名方式 
版本前后不兼容-》认证权限服务
文档错误码 示例代码 运行不一致
api监控自保护 连续性波测 限流和熔断

api管理
1.api的规划 设计 测试 开发 版本维护和下线
2.生命周期流程活动 角色 输入和输出
3..指责不清晰
4.工具凌乱 多个系统提供相同能力 各系统存在断点
5.度量体系缺失 什么样的api是好的 如何改进api和优化api

什么样的人类高质量API

有价值：api消费者有价值 api有商业价值
易发现：没有注册api管理
易使用：样例代码
稳定可靠：功能测试 兼容测试 一致性测试 监控措施 流控熔断机制
符合预期：sla 承诺的sla 保持一致 管理整个产品的期望 目标 版本的变化节奏 什么样的特性；api输出的一致性
安全：调用安全和传输安全 数据脱敏和加密

gartner

api治理框架方法
1.治理层：管理团队 角色团队 明确策略和要求
2.运作管理层：自我评估 指标和度量能力
API生命周期管理


自动化生成api，代码框架和测试框架
自动生成接口文档
打标签 分类 分级 

api流水线工具
api版本和维护阶段 版本化管理
api变更评审
api下线 提前6个月
must should may

api管理团队
api治理团队
api平台支撑团队
应用服务的owner 负责管理

治理实践关键落度措施
治理标准化
知识地图方式展示

api为重要的数字资产

数据来源 有哪些 ，如何保证数据的时效性 
毫秒级
可以

数据来源
ai具体参与了那些业务，或者带来了哪些收益
实时性

事件序列特征
图数据：实体关联和行为关联

图数据和交易统计相结合
特征计算模块
特征工程

通过定时任务 实时修复线上特征数据



微信支付api
为什么治理api
1.链接用户和商户
2.赋能商户

特别很难修复


api新老版本兼容问题 如何保证


安全可靠 
简单易用 
一致

实现大规模api的一致性
满足业务要求

质量 一致性 效率的完整性

api委员会

正确的时间 左移？

组织架构
  流程性：需求设计
错误码收敛
可测试性：沙箱、不用类型的收款测试账号

简化api设计体验
生成api框架代码
输出openapi3.0
接口测试


api网关 c++解决方案

api尽早反馈，建立反馈机制
虚拟商城-》做自测
监控和开发者反馈形成循环
可用性 低流量无流量 配置不合理

推荐：
轻发布
离线和在线

离线部分：
特征中心

在线部分

离线的挑战：
生态治理 跟黄牛抢时间
浅库存：售出即下架 算法链路需要实施感知
停留时长：时间短 数据回收周期长


统一数据口径
实时数仓

特征一致性，离线运行好 上线成功率低
发生问题原因：样本产生流程 

rtp 在线推理引擎
fg子图-》tensoflow

在线埋点 再计算

实时应用广泛
实时特征影响性大
特征需要沉淀：作为资产

特征中心 管控特征 -》特征质量

rtp

在线服务
在线全面severless层
召回引擎
精排引擎
烽火台

召回 -》粗排 -〉精排 

suezOps管控平台

